# Signature

The ACCESS-SIGN request header is generated by using the HMAC SHA256 method encryption on the timestamp + method.toUpperCase() + requestPath + "?" + queryString + body string (+ denotes string concatenation), and putting the result through BASE64 encoding.

## Signature Field Description

- **timestamp**: This matches the ACCESS-TIMESTAMP header.
- **method**: The request method (POST/GET), with all letters in uppercase.
- **requestPath**: API endpoint path.
- **queryString**: The query parameters after the "?" in the URL.
- **body**: The string that corresponds to the request body (omitted if empty, typically for GET requests).

## Signature Format Rules

### If queryString is empty

```
timestamp + method.toUpperCase() + requestPath + body
```

### If queryString is not empty

```
timestamp + method.toUpperCase() + requestPath + "?" + queryString + body
```

## Examples

### Fetching market depth (BTCUSDT)

- Timestamp = 1591089508404
- Method = "GET"
- requestPath = "/capi/v2/market/candles"
- queryString = "?symbol=cmt_btcusdt&limit=20"

String to be signed:

```
1591089508404GET/api/v2/market/depth?symbol=cmt_btcusdt&limit=20
```

### Placing an order (cmt_btcusdt)

- Timestamp = 1561022985382
- Method = "POST"
- requestPath = "/capi/v2/order/placeOrder"
- body = `{"symbol":"cmt_btcusdt","quantity":"8","side":"buy","price":"1","orderType":"limit","clientOrderId":"ww#123456"}`

String to be signed:

```
1561022985382POST/capi/v2/order/placeOrder{"symbol":"cmt_btcusdt","size":"8","side":"buy","price":"1","orderType":"limit","clientOrderId":"ww#123456"}
```

## Steps to Generate the Final Signature

1. Encrypt the unsigned string with HMAC SHA256 using your secretKey

   ```
   Signature = hmac_sha256(secretkey, Message)
   ```

2. Encode the signature using Base64
   ```
   Signature = base64.encode(Signature)
   ```
